# Installation Guide

## Prerequisites

- Python 3.9+ (developed on 3.12)
- An Anthropic API key ([Get one here](https://console.anthropic.com/))
- Playwright (installed automatically, but browsers need a one-time setup)

## Step 1: Clone the Repository

```bash
git clone https://github.com/your-username/theo-van-gogh.git
cd theo-van-gogh
```

## Step 2: Create a Virtual Environment

```bash
python3 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

## Step 3: Install Dependencies

```bash
pip install -r requirements.txt
```

For development and testing:
```bash
pip install -r requirements-dev.txt
```

## Step 4: Install Playwright Browsers

Playwright is used for FASO website automation (Phase 2). Install the browser binaries:

```bash
playwright install chromium
```

## Step 5: Configure Environment

Copy the example environment file and edit it with your settings:

```bash
cp .env.example .env
```

Secure the `.env` file so only you can read it:

```bash
chmod 600 .env
```

Edit `.env`:

```bash
# Required — your Anthropic API key
ANTHROPIC_API_KEY=your_api_key_here

# File paths — adjust to your system
PAINTINGS_BIG_PATH=/home/username/ai-workzone/my-paintings-big
PAINTINGS_INSTAGRAM_PATH=/home/username/ai-workzone/my-paintings-instagram
METADATA_OUTPUT_PATH=/home/username/ai-workzone/processed-metadata

# FASO credentials (Phase 2, optional for now)
FASO_EMAIL=your-email@example.com
FASO_PASSWORD=your-password
```

## Step 6: Create the Folder Structure

Create the base directories for your artwork:

```bash
mkdir -p ~/ai-workzone/my-paintings-big
mkdir -p ~/ai-workzone/my-paintings-instagram
mkdir -p ~/ai-workzone/processed-metadata
```

Then create collection subfolders. You can do this manually or use admin mode:

```bash
python main.py admin
# Select option 4 to add collections
# Select option 6 to sync collection folders (creates all missing folders)
```

Your folder structure should look like this:

```
~/ai-workzone/
├── my-paintings-big/              # High-resolution originals
│   ├── oil-paintings/
│   ├── landscapes-and-cityscapes-real-places/
│   ├── sea-beasties-from-titan/
│   └── ...                        # One folder per collection
├── my-paintings-instagram/        # Social media versions (<1MB each)
│   ├── oil-paintings/             # Mirrors big folder structure
│   ├── landscapes-and-cityscapes-real-places/
│   └── ...
└── processed-metadata/            # Generated by the system
    └── ...
```

Place your high-resolution photos in the appropriate `my-paintings-big` subfolder and your smaller social media versions in the matching `my-paintings-instagram` subfolder. Files should have the same name in both directories.

## Step 7: Verify Setup

```bash
python main.py verify-config
```

This checks that your API key is set, all paths exist, and the folder structure is valid.

## Install Git Hooks

To enable the pre-push test gate (blocks pushes if tests fail):

```bash
bash testing-scripts/install-hooks.sh
```

## Running Tests

To verify everything is working:

```bash
python -m pytest
```

You should see all tests passing with coverage above 40%.

## Quick Start

Once installed, the typical workflow is:

1. Drop new painting photos into `my-paintings-big/new-paintings/` and `my-paintings-instagram/new-paintings/`
2. Run `python main.py process` to generate metadata with AI
3. Use `python main.py admin` for folder management and metadata editing

See the [README](README.md) for full usage details.
